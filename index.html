<html>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link href="home.css" rel="stylesheet" type="text/css"/>
    <title>FoodEx</title>
    <link href="https://content3.jdmagicbox.com/comp/pune/e8/020pxx20.xx20.180613213514.p4e8/catalogue/foodex-pune-ze6sh.jpg?clr=4b1b1b" rel="icon" style="border-radius:10%">
    <script src="home.js"></script>
        
    </head>
    <body>
      <section class="showcase">
        <header id="header">
            <div id="icon">
                <h3>FoodEx</h3>
            </div>
             <button type="button" class="btn btn-primary btn-sm float-right m-2">Sign up</button>
             <button type="button" class="btn btn-primary btn-sm float-right m-2">Log in</button>
             <span style="float:right;color: white;margin-right: 1%;margin-top: -0.4%;">
              <p id="out"></p>
              <div id="icon"></div>
              <p id="address"></p>
             </span>
        </header> 
        <video src="pixels.mp4" muted loop autoplay></video>
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg role="document" >
    <div class="modal-content">
      <div class="modal-header"style="height:45px">
        <h6 class="modal-title" id="exampleModalLongTitle">Ads</h6>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="https://www.qsrmagazine.com/sites/default/files/styles/story_page/public/2020-12/Pizza_Hut_Inc_Triple_Treat_Box.jpg?itok=vaYj_ddL" class="img-fluid ">
      </div>
    </div>
  </div>
</div>

        <!-- Search Start-->
        <div id="search">
            <div id="heading1">
                Welcome to FoodEx!
            </div>
           <div id="heading">
               Find The Best Restaurants Near You
           </div>
           <div class="dropdown">
                <select id="city" onChange="getHotel()">
                    <option>--- SELECT CITY ---</option>
                </select>
                <select class="restaurantSelect" id="hotels">
                    <option>---- SELECT RESTAURANT ----</option>
                </select>
           </div>
           <div id="head">
            Eat Fresh . Stay Healthy
           </div>
        </div>
        <!-- Search End-->

        <div id="QuickSearch">
            <span id="QuickHeading">
                View Restaurants
            </span>
            <span id="QuickSubHeading">
                Popularity By Meal
            </span>
            <br>
            <br>
            <div class="card-deck">
                <div class="card">
                  <img class="card-img-top" src="https://www.eatthis.com/wp-content/uploads/sites/4/2020/12/banana-almond-oatmeal.jpg" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(230, 230, 230);">
                    <h5 class="card-title">Breakfast</h5>
                    <p class="card-text">Start your day with the perfect breakfast</p>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/healthy-recipes-marquee-1577978180.png?crop=0.663xw:0.993xh;0.171xw,0&resize=640:*" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(230, 231, 231);">
                    <h5 class="card-title">Lunch</h5>
                    <p class="card-text">Choose from a variety of cuisines and also go through the buffet options.</p>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/countryliving-quickbreads-102720-1132-1607716889.jpg?crop=0.723xw:0.482xh;0.157xw,0.249xh&resize=640:*" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(231, 231, 231);">
                    <h5 class="card-title">Dinner</h5>
                    <p class="card-text">Finish your day with the perfect meal.</p>
                  </div>
                </div>
              </div>
              <br>
              <div class="card-deck">
                <div class="card">
                  <img class="card-img-top" src="https://www.holidify.com/images/cmsuploads/compressed/Screenshot2021-01-29at1.25.59PM_20210129132615.png" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(230, 230, 230);">
                    <h5 class="card-title">Nightlife</h5>
                    <p class="card-text">Enjoy the perfect nightlife in one of the best restaurants in India.</p>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top" src="https://www.cookwithmanali.com/wp-content/uploads/2018/04/Vada-Pav-500x500.jpg" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(230, 230, 230);">
                      <h5 class="card-title">Snacks</h5>
                    <p class="card-text">Nothing better than snacks to uplift your mood.</p>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top" src="https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fimageserve%2F1155044772%2FVegan-tortilla-wraps-with-quinoa--asparagus--beans--vegetables-and-guacamole-%2F960x0.jpg%3Ffit%3Dscale" alt="Card image cap">
                  <div class="card-body" style="background-color: rgb(230, 230, 230);">
                    <h5 class="card-title">Vegan</h5>
                    <p class="card-text">Perfect meal after the perfect workout.</p>
                  </div>
                </div>
              </div>
              <hr/>
              <footer>
                  <center>
                      <b> &copy;2021 Deepesh Durairajan</b>
                  </center>
              </footer>
              <script>
                window.onload=getCity();
                $(document).ready(function(){
                  $('#exampleModalCenter').modal('show');
                });
                window.onload = geolocation();
            var x = document.getElementById("out")
            var y = document.getElementById("address")
            var z =  document.getElementById('icon')
            function geolocation(){
                if(navigator.geolocation){
                    navigator.geolocation.getCurrentPosition(showPosition)
                }else{
                    x.innerText="Geo Not Supported"
                }
            }
        
            function showPosition(data){
                console.log(data)
                let lat = data.coords.latitude;
                let long = data.coords.longitude
                var url = `https://api.openweathermap.org/data/2.5/forecast/daily?lat=${lat}&lon=${long}&mode=json&units=metric&cnt=1&appid=fbf712a5a83d7305c3cda4ca8fe7ef29`
                /*var url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${data.coords.latitude},${data.coords.longitude}&key=`;
                */
                fetch(url)
                .then((res) => res.json())
                .then((data) => {
                    console.log(data)                 
                    data.list.map((item) => {
                        console.log(item.temp.day)
                        y.innerText=`${item.temp.day}Â°C and ${item.weather[0].description}`
                        /*z.innerHTML=`<img class='card-img-top' src='https://openweathermap.org/img/w/${item.weather[0].icon}.png' alt='weather'/>*/
                    })
                    
                })
            }
              </script>
    </body>
</html>